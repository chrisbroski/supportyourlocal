<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>About</title>
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width">
<link rel="stylesheet" type="text/css" href="/inc/main.css">

<body>

<!--#include file="/api/header.pht" -->

<main id="about">
<article>
    <section>
        <h1>About</h1>
    </section>
</article>
</main>

<script type="text/javascript" src="/inc/Aerophane.js"></script>
<script type="text/javascript" src="/inc/main.js"></script>
<script type="text/javascript" src="/inc/showdown.min.js"></script>
<script>
function showAbout(aboutData) {
    var contact = document.querySelector("main#about article > section:first-child");
    var converter = new showdown.Converter({"noHeaderId": true});
    var page = document.querySelector("main#about article");

    var div = document.createElement("div");
    var p = document.createElement("p");

    if (aboutData.contact) {
        div.innerHTML = converter.makeHtml(aboutData.contact);
        contact.appendChild(div);
    }

    if (aboutData.bio) {
        bio = document.createElement("section");
        bio.innerHTML = converter.makeHtml(aboutData.bio);
        page.appendChild(bio);
    }
}

setTitle();
getJsonData("/api/home", showAbout);
</script>
